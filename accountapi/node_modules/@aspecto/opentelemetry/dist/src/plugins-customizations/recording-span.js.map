{"version":3,"file":"recording-span.js","sourceRoot":"","sources":["../../../src/plugins-customizations/recording-span.ts"],"names":[],"mappings":";;;AACA,sCAA0C;AAI7B,QAAA,oBAAoB,GAAG,CAAC,IAAU,EAAW,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,sBAAa,CAAC,eAAe,CAAC;AAEpG,QAAA,sBAAsB,GAAG,CAAC,YAAgC,EAAsB,EAAE;IAC3F,OAAO,CAAC,IAAU,EAAE,GAAG,IAAI,EAAE,EAAE;QAC3B,IAAI,4BAAoB,CAAC,IAAI,CAAC,EAAE;YAC5B,OAAO,YAAY,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;SACtC;IACL,CAAC,CAAC;AACN,CAAC,CAAC","sourcesContent":["import { Span } from '@opentelemetry/api';\nimport { AspectoConfig } from '../config';\n\nexport type PluginHookFunction = (span: Span, ...args: any[]) => any;\n\nexport const shouldCapturePayload = (span: Span): boolean => span.isRecording() && AspectoConfig.collectPayloads;\n\nexport const callCapturePayloadHook = (hookFunction: PluginHookFunction): PluginHookFunction => {\n    return (span: Span, ...args) => {\n        if (shouldCapturePayload(span)) {\n            return hookFunction(span, ...args);\n        }\n    };\n};\n"]}