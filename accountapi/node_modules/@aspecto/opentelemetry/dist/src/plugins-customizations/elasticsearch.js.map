{"version":3,"file":"elasticsearch.js","sourceRoot":"","sources":["../../../src/plugins-customizations/elasticsearch.ts"],"names":[],"mappings":";;;AAEA,oEAAoE;AACpE,qDAA0D;AAE1D,MAAM,YAAY,GAAiB,CAAC,IAAU,EAAE,QAAa,EAAE,EAAE;IAC7D,IAAI,CAAC,YAAY,CAAC,0CAAqB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;AACnF,CAAC,CAAC;AAEW,QAAA,gCAAgC,GAAuC;IAChF,+BAA+B,EAAE,IAAI;IACrC,YAAY,EAAE,uCAAsB,CAAC,YAAY,CAAC;CACrD,CAAC","sourcesContent":["import { Span } from '@opentelemetry/sdk-trace-base';\nimport { ElasticsearchInstrumentationConfig, ResponseHook } from 'opentelemetry-instrumentation-elasticsearch';\nimport { AspectoAttributeNames } from '@aspecto/opentelemetry-base';\nimport { callCapturePayloadHook } from './recording-span';\n\nconst responseHook: ResponseHook = (span: Span, response: any) => {\n    span.setAttribute(AspectoAttributeNames.DB_RESPONSE, JSON.stringify(response));\n};\n\nexport const aspectoElasticsearchPluginConfig: ElasticsearchInstrumentationConfig = {\n    suppressInternalInstrumentation: true,\n    responseHook: callCapturePayloadHook(responseHook),\n};\n"]}