{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/faas/gcf/index.ts"],"names":[],"mappings":";;;AAAA,iDAAuD;AAe1C,QAAA,YAAY,GAAG,CAAC,kBAAuC,EAAa,EAAE,CAAC,CAChF,OAAU,EACV,UAAsB,MAAM,EAC9B,EAAE;IACA,QAAQ,OAAO,EAAE;QACb,KAAK,MAAM;YACP,OAAQ,oCAAqB,CAAC,OAAc,EAAE,kBAAkB,CAAkB,CAAC;QACvF;YACI,MAAM,IAAI,KAAK,CAAC,+BAA+B,OAAO,iDAAiD,CAAC,CAAC;KAChH;AACL,CAAC,CAAC","sourcesContent":["import { instrumentHttpTrigger } from './http-trigger';\n\ntype GcfTrigger =\n    | 'http'\n    | 'cloud-storage'\n    | 'pub/sub'\n    | 'firestore'\n    | 'firebase-ga'\n    | 'firebase-realtime-db'\n    | 'firebase-auth'\n    | 'firebase-remote-config'\n    | 'scheduled';\n\nexport type GCFTracer = <T>(handler: T, trigger?: GcfTrigger) => T;\n\nexport const getGcfTracer = (waitForSpansExport: () => Promise<void>): GCFTracer => <T>(\n    handler: T,\n    trigger: GcfTrigger = 'http'\n) => {\n    switch (trigger) {\n        case 'http':\n            return (instrumentHttpTrigger(handler as any, waitForSpansExport) as unknown) as T;\n        default:\n            throw new Error(`Aspecto Error: Unsupported \"${trigger}\" trigger for GCF. Supported triggers are: http`);\n    }\n};\n"]}