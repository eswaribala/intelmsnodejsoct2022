"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkCondition = void 0;
const utils_1 = require("../utils");
const semantic_conventions_1 = require("@opentelemetry/semantic-conventions");
exports.checkCondition = (condition, msg) => {
    var _a;
    switch (condition.conditionType) {
        case 'always':
            return true;
        case 'service': {
            const resourceAttributes = (_a = msg.resource) === null || _a === void 0 ? void 0 : _a.attributes;
            if (!resourceAttributes)
                return false;
            const serviceName = resourceAttributes[semantic_conventions_1.SemanticResourceAttributes.SERVICE_NAME];
            return utils_1.compareStr(condition.conditionData.filterValue, serviceName);
        }
        default:
            throw new Error(`Unknown condition: ${JSON.stringify(condition)}`);
    }
};
//# sourceMappingURL=conditions.js.map