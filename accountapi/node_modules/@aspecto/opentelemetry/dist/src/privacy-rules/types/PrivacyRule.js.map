{"version":3,"file":"PrivacyRule.js","sourceRoot":"","sources":["../../../../src/privacy-rules/types/PrivacyRule.ts"],"names":[],"mappings":"","sourcesContent":["export type BlockRule = {\n    conditions: RuleCondition[];\n    actions: RuleAction[];\n};\n\nexport type AllowRule = {\n    conditions: AlwaysCondition[] | BasicFilteredCondition[];\n    actions: CollectFieldAction[];\n};\n\nexport type PrivacyRule = BlockRule | AllowRule;\nexport type RuleCondition = SimpleCondition | FilteredCondition;\nexport type RuleAction = RequestAction | FieldAction;\n\nexport type BasicCondition = 'service' | 'always';\nexport type ConditionType = BasicCondition & 'route';\nexport type SimpleCondition = AlwaysCondition;\nexport type AlwaysCondition = {\n    conditionType: 'always';\n};\nexport type FilteredCondition = {\n    conditionType: 'service' | 'route';\n    conditionData: ConditionFilter;\n};\n\nexport type BasicFilteredCondition = {\n    conditionType: BasicCondition;\n    conditionData: ConditionFilter;\n};\n\n// only one for now, but may be more in the future\nexport type ConditionFilter = FilterByValue;\n\nexport type RequestAction = {\n    actionType: RequestActionType;\n};\nexport type CollectFieldAction = {\n    actionType: 'collect-field';\n    actionData: {\n        filter: {\n            filterType: 'by-key';\n            filterValue: string;\n        };\n    };\n};\nexport type FieldAction = {\n    actionType: FieldActionType;\n    actionData: FieldPredicate;\n};\nexport type ActionType = RequestActionType | FieldActionType;\nexport type RequestActionType = 'block-request';\nexport type FieldActionType = 'block-field' | 'scramble-field' | 'collect-field';\nexport type FieldPredicate = {\n    fieldTypes: FieldType[];\n    filter: FieldFilter;\n};\nexport type FieldType = 'header' | 'body-json' | 'query-param';\nexport type FieldFilter = FilterByKey | FilterByValue;\nexport type FilterByKey = {\n    filterType: 'by-key';\n    filterValue: string;\n};\nexport type FilterByValue = {\n    filterType: 'by-value';\n    filterValue: string;\n};\n\nexport type FilterType = 'by-key' | 'by-value';\n"]}