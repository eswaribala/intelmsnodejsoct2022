"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCloneId = void 0;
const uuid_1 = require("uuid");
const fecth_git_data_1 = require("./fecth-git-data");
const gitConfigName = 'opentelemetry.resource.clone.id';
const readGitConfig = () => {
    return fecth_git_data_1.executeGitCommand(`git config --local ${gitConfigName}`);
};
const writeGitConfig = (value) => {
    return fecth_git_data_1.executeGitCommand(`git config --local ${gitConfigName} ${value}`);
};
const getCloneId = () => {
    const aspectoGitCloneId = readGitConfig();
    if (aspectoGitCloneId)
        return aspectoGitCloneId;
    const newId = uuid_1.v4();
    writeGitConfig(newId);
    return readGitConfig();
};
exports.getCloneId = getCloneId;
//# sourceMappingURL=git-clone-id.js.map