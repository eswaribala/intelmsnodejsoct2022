{"version":3,"file":"fecth-git-data.js","sourceRoot":"","sources":["../../src/fecth-git-data.ts"],"names":[],"mappings":";;;;;;AAAA,kEAA0C;AAC1C,gDAAwB;AACxB,4CAAoB;AAEb,MAAM,iBAAiB,GAAG,CAAC,UAAkB,EAAU,EAAE;IAC5D,IAAI;QACA,OAAO,uBAAa;aACf,QAAQ,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;aACzE,QAAQ,EAAE;aACV,IAAI,EAAE,CAAC;KACf;IAAC,WAAM,GAAE;AACd,CAAC,CAAC;AAPW,QAAA,iBAAiB,qBAO5B;AAEK,MAAM,kBAAkB,GAAG,CAAC,SAAiB,EAAU,EAAE;IAC5D,uEAAuE;IACvE,8BAA8B;IAC9B,MAAM,mBAAmB,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,cAAI,CAAC,GAAG,CAAC,CAAC;IAC7D,MAAM,YAAY,GAAG,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,mBAAmB,CAAC,CAAC;IAC3E,OAAO,YAAE,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;AAC3D,CAAC,CAAC;AANW,QAAA,kBAAkB,sBAM7B","sourcesContent":["import child_process from 'child_process';\nimport path from 'path';\nimport fs from 'fs';\n\nexport const executeGitCommand = (gitCommand: string): string => {\n    try {\n        return child_process\n            .execSync(gitCommand, { stdio: ['ignore', 'pipe', 'pipe'], timeout: 250 })\n            .toString()\n            .trim();\n    } catch {}\n};\n\nexport const readFileFromGitDir = (pathInGit: string): string => {\n    // git always use refs with '/', but on windows, when accessing the fs,\n    // we should replace it to '\\'\n    const pathInGitOsSpecific = pathInGit.replace('/', path.sep);\n    const headFilePath = path.join(process.cwd(), '.git', pathInGitOsSpecific);\n    return fs.readFileSync(headFilePath).toString().trim();\n};\n"]}